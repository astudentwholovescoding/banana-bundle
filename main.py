import datetime

from blockchain import BlockChain
from blocks import Block
from tx import Tx, MintTx


if __name__ == '__main__':
    blockchain = BlockChain()

    mint_tx = MintTx('Nilo', """data:image/jpeg;base64,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""", datetime.datetime.now())

    blockchain.add_block(mint_tx.to_json())

    gift_tx = Tx('Nilo', 'Une autre personne', mint_tx.token_id, datetime.datetime.now())

    blockchain.add_block(gift_tx.to_json())

    valid = blockchain.is_valid()

    print(valid)

    if valid:
        blockchain.save()